Here are the **most important PostgreSQL commands** you will need while working with your **`gas_cylinders`** database.

---

# **üìå Basic Database Commands**
### **1Ô∏è‚É£ Switch to PostgreSQL CLI**
```sh
sudo -u postgres psql
```

### **2Ô∏è‚É£ Connect to Your Database**
```sql
\c gas_cylinders;
```

### **3Ô∏è‚É£ List All Databases**
```sql
\l
```

### **4Ô∏è‚É£ List All Users/Roles**
```sql
\du
```

### **5Ô∏è‚É£ Show Tables in the Database**
```sql
\dt
```

### **6Ô∏è‚É£ Exit PostgreSQL CLI**
```sh
\q
```

---

# **üìå User & Permissions Management**
### **1Ô∏è‚É£ Create a New User**
```sql
CREATE USER new_user WITH ENCRYPTED PASSWORD 'newpassword';
```

### **2Ô∏è‚É£ Grant User Access to Database**
```sql
GRANT ALL PRIVILEGES ON DATABASE gas_cylinders TO new_user;
```

### **3Ô∏è‚É£ Change User Password**
```sql
ALTER USER gas_user WITH PASSWORD 'newsecurepassword';
```

### **4Ô∏è‚É£ Delete a User**
```sql
DROP USER gas_user;
```

---

# **üìå Table Management**
### **1Ô∏è‚É£ Create a New Table (Example: Cylinders Table)**
```sql
CREATE TABLE cylinders (
    id SERIAL PRIMARY KEY,
    qr_code VARCHAR(255) UNIQUE NOT NULL,
    status VARCHAR(50) CHECK(status IN ('available', 'sent', 'returned', 'in_refill', 'trashed')),
    created_at TIMESTAMP DEFAULT NOW()
);
```

### **2Ô∏è‚É£ List All Tables**
```sql
\dt
```

### **3Ô∏è‚É£ Describe a Table Structure**
```sql
\d cylinders
```

### **4Ô∏è‚É£ Delete a Table**
```sql
DROP TABLE cylinders;
```

---

# **üìå Insert, Update, Delete Data**
### **1Ô∏è‚É£ Insert Data into a Table**
```sql
INSERT INTO cylinders (qr_code, status) VALUES ('12345ABC', 'available');
```

### **2Ô∏è‚É£ View All Data in a Table**
```sql
SELECT * FROM cylinders;
```

### **3Ô∏è‚É£ Update Data in a Table**
```sql
UPDATE cylinders SET status = 'sent' WHERE qr_code = '12345ABC';
```

### **4Ô∏è‚É£ Delete Data from a Table**
```sql
DELETE FROM cylinders WHERE qr_code = '12345ABC';
```

---

# **üìå Querying Data**
### **1Ô∏è‚É£ Select Specific Columns**
```sql
SELECT qr_code, status FROM cylinders;
```

### **2Ô∏è‚É£ Filter Data with Conditions**
```sql
SELECT * FROM cylinders WHERE status = 'available';
```

### **3Ô∏è‚É£ Count Records**
```sql
SELECT COUNT(*) FROM cylinders WHERE status = 'available';
```

### **4Ô∏è‚É£ Sort Data**
```sql
SELECT * FROM cylinders ORDER BY created_at DESC;
```

### **5Ô∏è‚É£ Find Data Using Pattern Matching**
```sql
SELECT * FROM cylinders WHERE qr_code LIKE '123%';
```

---

# **üìå Indexing & Performance Optimization**
### **1Ô∏è‚É£ Create an Index on a Column**
```sql
CREATE INDEX idx_qr_code ON cylinders(qr_code);
```

### **2Ô∏è‚É£ Remove an Index**
```sql
DROP INDEX idx_qr_code;
```

### **3Ô∏è‚É£ Analyze Table Performance**
```sql
EXPLAIN ANALYZE SELECT * FROM cylinders WHERE qr_code = '12345ABC';
```

---

# **üìå Backup & Restore**
### **1Ô∏è‚É£ Backup the Database**
Run this command from the terminal:
```sh
pg_dump -U gas_user -W -F c -b -v -f gas_cylinders_backup.sql gas_cylinders
```

### **2Ô∏è‚É£ Restore a Database from Backup**
```sh
pg_restore -U gas_user -d gas_cylinders -v gas_cylinders_backup.sql
```

---
